---
// Header Component
---

<header id="inicio" class="fixed top-0 left-0 w-full z-50 transition-all duration-300 bg-[#0a0f1e]/80 backdrop-blur-md border-b border-sky-500/10">
  <nav class="container mx-auto px-6 py-4 flex items-center justify-between max-w-7xl animate-slide-down">
    
    <!-- Logo/Nombre -->
    <a href="#hero" class="text-2xl font-bold text-white hover:text-sky-400 transition-colors duration-300">
      <img src="../../public/JLoaDen-Photoroom.png" class="h-8 w-auto md:h-10 lg:h-12" alt="JLoaDen logo">
    </a>
    

    <!-- Navegación Desktop (Centrada) -->
    <ul class="hidden md:flex items-center gap-8 text-sm font-medium -ml-28">
      <li>
        <a href="#hero" class="text-gray-300 hover:text-sky-400 transition-colors duration-300">
          <span data-i18n="header.inicio">Inicio</span>
        </a>
      </li>
      <li>
        <a href="#tecnologias" class="text-gray-300 hover:text-sky-400 transition-colors duration-300">
          <span data-i18n="header.tecnologias">Tecnologías</span>
        </a>
      </li>
      <li>
        <a href="#proyectos" class="text-gray-300 hover:text-sky-400 transition-colors duration-300">
          <span data-i18n="header.proyectos">Proyectos</span>
        </a>
      </li>
      <li>
        <a href="#about" class="text-gray-300 hover:text-sky-400 transition-colors duration-300">
          <span data-i18n="header.sobreMi">Sobre Mi</span>
        </a>
      </li>
    </ul>

    <!-- Switch de Idioma Animado (más pequeño) -->
    <label class="relative inline-flex items-center cursor-pointer">
      <input id="lang-toggle" class="sr-only peer" type="checkbox">
      <div class="group peer ring-0 bg-gray-900/50 border-2 border-sky-500/30 rounded-full outline-none duration-500
       after:duration-300 w-16 h-8 shadow-md peer-checked:bg-gradient-to-r peer-checked:from-sky-500/20 peer-checked:to-blue-500/20
        peer-focus:outline-none after:content-[''] after:rounded-full after:absolute after:bg-gradient-to-br after:from-sky-400
         after:to-blue-600 after:outline-none after:h-6 after:w-6 after:top-1 after:left-1 peer-checked:after:translate-x-8
          peer-hover:after:scale-95 after:shadow-lg after:shadow-sky-500/50">
        
        <!-- Texto ES (sobre el círculo cuando está activo) -->
        <span class="absolute top-1/2 -translate-y-1/2 left-2.5 text-[9px] font-bold text-white z-10 pointer-events-none">
          ES
        </span>
        
        <!-- Texto EN (sobre el círculo cuando está activo) -->
        <span class="absolute top-1/2 -translate-y-1/2 right-2.5 text-[9px] font-bold text-white z-10 pointer-events-none">
          EN
        </span>
      </div>
    </label>

    <!-- Menú Móvil (Hamburguesa) -->
    <button id="menu-toggle" class="md:hidden text-white focus:outline-none">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>
  </nav>

  <!-- Menú Móvil Desplegable -->
  <div id="mobile-menu" class="hidden md:hidden bg-[#0a0f1e]/95 backdrop-blur-lg border-t border-sky-500/10">
    <ul class="flex flex-col items-center gap-4 py-6 text-sm font-medium">
      <li>
        <a href="#inicio" class="text-gray-300 hover:text-sky-400 transition-colors duration-300">
          <span data-i18n="header.inicio">Inicio</span>
        </a>
      </li>
      <li>
        <a href="#tecnologias" class="text-gray-300 hover:text-sky-400 transition-colors duration-300">
          <span data-i18n="header.tecnologias">Tecnologías</span>
        </a>
      </li>
      <li>
        <a href="#proyectos" class="text-gray-300 hover:text-sky-400 transition-colors duration-300">
          <span data-i18n="header.proyectos">Proyectos</span>
        </a>
      </li>
      <li>
        <a href="#contacto" class="text-gray-300 hover:text-sky-400 transition-colors duration-300">
          <span data-i18n="header.sobreMi">Sobre Mi</span>
        </a>
      </li>
      
      <!-- Switch móvil -->
      <li class="mt-2">
        <label class="relative inline-flex items-center cursor-pointer">
          <input id="lang-toggle-mobile" class="sr-only peer" type="checkbox">
          <div class="group peer ring-0 bg-gray-900/50 border-2 border-sky-500/30 rounded-full outline-none duration-500 after:duration-300 w-16 h-8 shadow-md peer-checked:bg-gradient-to-r peer-checked:from-sky-500/20 peer-checked:to-blue-500/20 peer-focus:outline-none after:content-[''] after:rounded-full after:absolute after:bg-gradient-to-br after:from-sky-400 after:to-blue-600 after:outline-none after:h-6 after:w-6 after:top-1 after:left-1 peer-checked:after:translate-x-8 peer-hover:after:scale-95 after:shadow-lg after:shadow-sky-500/50">
            
            <span class="absolute top-1/2 -translate-y-1/2 left-1.5 text-[10px] font-bold text-white z-10 pointer-events-none">
              ES
            </span>
            
            <span class="absolute top-1/2 -translate-y-1/2 right-1.5 text-[10px] font-bold text-white z-10 pointer-events-none">
              EN
            </span>
          </div>
        </label>
      </li>
    </ul>
  </div>
</header>

<script>
  // Menú móvil toggle
  const menuToggle = document.getElementById('menu-toggle');
  const mobileMenu = document.getElementById('mobile-menu');

  menuToggle?.addEventListener('click', () => {
    mobileMenu?.classList.toggle('hidden');
  });

  // Sincronizar switches de idioma (desktop y móvil)
  const langToggle = document.getElementById('lang-toggle') as HTMLInputElement;
  const langToggleMobile = document.getElementById('lang-toggle-mobile') as HTMLInputElement;

  langToggle?.addEventListener('change', () => {
    if (langToggleMobile) {
      langToggleMobile.checked = langToggle.checked;
    }
    // Aquí puedes agregar lógica de cambio de idioma real en el futuro
    console.log('Idioma:', langToggle.checked ? 'EN' : 'ES');
  });

  langToggleMobile?.addEventListener('change', () => {
    if (langToggle) {
      langToggle.checked = langToggleMobile.checked;
    }
    console.log('Idioma:', langToggleMobile.checked ? 'EN' : 'ES');
  });

  // Scroll suave
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      const target = document.querySelector((anchor as HTMLAnchorElement).getAttribute('href') || '');
      if (target) {
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        mobileMenu?.classList.add('hidden');
      }
    });
  });

  // Cambio de estilo del header al hacer scroll
  window.addEventListener('scroll', () => {
    const header = document.querySelector('header');
    if (window.scrollY > 50) {
      header?.classList.add('shadow-lg', 'shadow-sky-500/5');
    } else {
      header?.classList.remove('shadow-lg', 'shadow-sky-500/5');
    }
  });
</script>

<style>
  /* Animación de entrada desde arriba */
  @keyframes slide-down {
    from {
      opacity: 0;
      transform: translateY(-100%);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-slide-down {
    animation: slide-down 0.8s ease-out;
  }
</style>